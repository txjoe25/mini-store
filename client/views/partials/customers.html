<h1>Customers</h1>
<form ng-submit="submitNew()" name='createCustomer' novalidate>
	<h3>Add a new customer</h3>
	<label>Customer Name:</label>
	<input required minlength='2' type="text" name="name" ng-model="newCustomer.name">
	<button type='submit' class='btn btn-primary'>Submit</button>
</form>
<div ng-messages="createCustomer.name.$error" ng-show='createCustomer.$submitted'>
	<p class = 'text-danger' ng-message='required'>You need a name</p>
	<p class = 'text-danger' ng-message='minlength'>Name must be longer than two characters</p>
</div>
<p class='form-inline text-right'>
<input type="text" name="filterName" ng-model='filterName' placeholder="Filter by name">
</p>
<table class='table table-striped table-condensed'>
	<thead>
		<th>Customer Name</th>
		<th>Created Date</th>
		<th>Actions</th>
	</thead>
	<tbody>
	<tr ng-repeat='customer in customers | orderBy: createdAt | filter: {name: filerName}'>
		<td>{{customer.name}}</td>
		<td>{{customer.caPretty}}</td>
		<td><a class='btn btn-danger' ng-click='deleteCustomer(customer._id)'>Delete</a></td>
	</tr>
	</tbody>
</table>