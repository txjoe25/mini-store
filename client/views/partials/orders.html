<h1>Orders</h1>
<form ng-submit='submitNew()' name='createOrder' ng-model='newOrder.product_id' class = 'form-inline' novalidate>
	<h3>Add a new order</h3>
	<label>Product:</label>
	<select name="product_id" ng-model='newOrder.product_id' required class="form-control">
		<option ng-repeat='product in products' value="{{product._id}}">{{product.name}}({{product.qty}} left)</option>
	</select><br>
	<label>Customer:</label>
	<select name="customer_id" ng-model="newOrder.customer_id" required class="form-control">
	<option ng-repeat='customer in customers' value="{{customer._id}}">{{customer.name}}</option>
	</select><br>
	<label>Quantity</label>
	<input type="number" name="qty" ng-model='newOrder.qty' min=0 class ="form-control" required/>
	<button type='submit' class='btn btn-primary'>Submit Order</button>
</form>
<table class = 'table table-striped table-condensed'>
	<thead>
		<th> Customer Name</th>
		<th> Order Date</th>
		<th> Product Name</th>
		<th> Quantity</th>
		<th> Actions</th>
	</thead>
	<tbody>
		<tr ng-repeat='order in orders | orderBy: createdAt | filter: {name: filterName}'>
			<td>{{order._customer.name}}</td>
			<td>{{order.caPretty}}</td>
			<td>{{order._product.name}}</td>
			<td>{{order.qty}}</td>
			<td>
				<a class='btn btn-danger btn-xs' ng-click='deleteOrder(order._id)'>Delete</a>
			</td>
		</tr>
	</tbody>
</table>